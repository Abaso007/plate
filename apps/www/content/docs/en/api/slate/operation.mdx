---
title: Operation
description: API reference for operations in Slate.
---

`Operation` objects define the low-level instructions that Slate editors use to apply changes to their internal state. Representing all changes as operations is what allows Slate editors to easily implement history, collaboration, and other features.

## Operation API

### `isNodeOperation`

Check if a value is a `NodeOperation` object.

<APIParameters>
  <APIItem name="value" type="any">
    The value to check.
  </APIItem>
</APIParameters>

<APIReturns>
  Returns `boolean` - `true` if the value is a node operation.
</APIReturns>

### `inverse`

Invert an operation, returning a new operation that will exactly undo the original when applied.

<APIParameters>
  <APIItem name="op" type="Operation">
    The operation to invert.
  </APIItem>
</APIParameters>

<APIReturns>
  Returns `Operation` - A new operation that undoes the original operation.
</APIReturns>

### `isOperation`

Check if a value is an `Operation` object.

<APIParameters>
  <APIItem name="value" type="any">
    The value to check.
  </APIItem>
</APIParameters>

<APIReturns>
  Returns `boolean` - `true` if the value is an operation.
</APIReturns>

### `isOperationList`

Check if a value is a list of `Operation` objects.

<APIParameters>
  <APIItem name="value" type="any">
    The value to check.
  </APIItem>
</APIParameters>

<APIReturns>
  Returns `boolean` - `true` if the value is an array of operations.
</APIReturns>

### `isSelectionOperation`

Check if a value is a `SelectionOperation` object.

<APIParameters>
  <APIItem name="value" type="any">
    The value to check.
  </APIItem>
</APIParameters>

<APIReturns>
  Returns `boolean` - `true` if the value is a selection operation.
</APIReturns>

### `isTextOperation`

Check if a value is a `TextOperation` object.

<APIParameters>
  <APIItem name="value" type="any">
    The value to check.
  </APIItem>
</APIParameters>

<APIReturns>
  Returns `boolean` - `true` if the value is a text operation.
</APIReturns>

## Types

### `Operation`

`Operation` objects define the low-level instructions that Slate editors use to apply changes to their internal state. Representing all changes as operations is what allows Slate editors to easily implement history, collaboration, and other features.

Operations can be one of three types:

```ts
export type Operation<N extends Descendant = Descendant> =
  | NodeOperation<N>
  | SelectionOperation
  | TextOperation;
  ```

### `NodeOperation`

A node operation is an operation that modifies a node.

```ts
type NodeOperation<N extends Descendant = Descendant> =
  | InsertNodeOperation<N>
  | MergeNodeOperation<N>
  | MoveNodeOperation
  | RemoveNodeOperation<N>
  | SetNodeOperation<N>
  | SplitNodeOperation<N>;
```

### `SelectionOperation`

A selection operation is an operation that modifies the selection.

```ts
type SelectionOperation = SetSelectionOperation;
```

### `TextOperation`

A text operation is an operation that modifies text content.

```ts
type TextOperation = InsertTextOperation | RemoveTextOperation;
```


### `InsertNodeOperation`

An insert node operation is an operation that inserts a new node at a specific path.

```ts
type InsertNodeOperation<N extends Descendant = Descendant> = {
  [key: string]: unknown;
  node: N;
  path: Path;
  type: 'insert_node';
};
```

### `MergeNodeOperation`

A merge node operation is an operation that merges a node with its previous sibling.

```ts
type MergeNodeOperation<N extends Descendant = Descendant> = {
  [key: string]: unknown;
  path: Path;
  position: number;
  properties: Partial<NodeProps<N>>;
  type: 'merge_node';
};
```

### `MoveNodeOperation`

A move node operation is an operation that moves a node to a new location in the document.

```ts
type MoveNodeOperation = {
  [key: string]: unknown;
  newPath: Path;
  path: Path;
  type: 'move_node';
};
```

### `RemoveNodeOperation`

A remove node operation is an operation that removes a node from the document.

```ts
type RemoveNodeOperation<N extends Descendant = Descendant> = {
  [key: string]: unknown;
  node: N;
  path: Path;
  type: 'remove_node';
};
```

### `SetNodeOperation`

A set node operation is an operation that updates a node's properties.

```ts
type SetNodeOperation<
  N1 extends Descendant = Descendant,
  N2 extends Descendant = Descendant,
> = {
  [key: string]: unknown;
  newProperties: Partial<NodeProps<N1>>;
  path: Path;
  properties: Partial<NodeProps<N2>>;
  type: 'set_node';
};
```

### `SplitNodeOperation`

A split node operation is an operation that splits a node into two nodes at a specific position.

```ts
type SplitNodeOperation<N extends Descendant = Descendant> = {
  [key: string]: unknown;
  path: Path;
  position: number;
  properties: Partial<NodeProps<N>>;
  type: 'split_node';
};
```

### `SetSelectionOperation`

A set selection operation is an operation that updates the current selection state.

```ts
type SetSelectionOperation =
  | {
      [key: string]: unknown;
      newProperties: Partial<TRange>;
      properties: Partial<TRange>;
      type: 'set_selection';
    }
  | {
      [key: string]: unknown;
      newProperties: TRange;
      properties: null;
      type: 'set_selection';
    }
  | {
      [key: string]: unknown;
      newProperties: null;
      properties: TRange;
      type: 'set_selection';
    };
```

### `InsertTextOperation`

An insert text operation is an operation that inserts text at a specific position in a text node.

```ts
type InsertTextOperation = {
  [key: string]: unknown;
  offset: number;
  path: Path;
  text: string;
  type: 'insert_text';
};
```

### `RemoveTextOperation`

A remove text operation is an operation that removes text from a specific position in a text node.

```ts
type RemoveTextOperation = {
  [key: string]: unknown;
  offset: number;
  path: Path;
  text: string;
  type: 'remove_text';
};
```

