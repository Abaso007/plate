---
title: Serializing Markdown
toc: false
---

<ComponentPreview name="markdown-demo" />

<PackageInfo>

## Features

- Convert Markdown string to Slate JSON.
- Convert Slate JSON to Markdown string.

</PackageInfo>

## Installation

```bash
npm install @udecode/plate-markdown
```

## Usage

### Markdown to Slate

```tsx
import { MarkdownPlugin } from '@udecode/plate-markdown';

const editor = createPlateEditor({ 
  plugins: [
    // ...otherPlugins,
    MarkdownPlugin,
  ],
});

const value = editor.api.markdown.deserialize('**Hello world!**');
```

<ComponentPreview name="markdown-to-slate-demo" />

### Slate to Markdown

Currently supported plugins: paragraph, link, list, heading, italic, bold and code.
List indentation uses 3 spaces instead of 2.

```tsx
const editor = createPlateEditor({ 
  value,
  plugins: [
    // ...otherPlugins,
    MarkdownPlugin,
  ],
});

const content = editor.api.markdown.serialize();
```

## API

### `MarkdownPlugin`

<API name="MarkdownPlugin">
<APIOptions>
  <APIItem name="allowedNodes" type="{ serialize?: string[]; deserialize?: string[] } | null">
    Configure allowed node types. Cannot be used together with disallowedNodes. You can specify different node type lists for serialization and deserialization:
    - `serialize`: List of node types allowed when converting to Markdown
    - `deserialize`: List of node types allowed when parsing Markdown
    If this option is specified, only node types in the list will be processed, others will be filtered out.
    Default: `null`
  </APIItem>
  <APIItem name="disallowedNodes" type="{ serialize?: string[]; deserialize?: string[] } | null">
    Configure disallowed node types. Cannot be used together with allowedNodes. You can specify different node type lists for serialization and deserialization:
    - `serialize`: List of node types to filter out when converting to Markdown
    - `deserialize`: List of node types to filter out when parsing Markdown
    Node types in the list will be filtered out and won't appear in the final result.
    Default: `null`
  </APIItem>
  <APIItem name="allowNode" type="{ serialize?: (node: any) => boolean; deserialize?: (node: any) => boolean }">
    Custom node filter function. Called after allowedNodes/disallowedNodes checks. You can specify different filter functions for serialization and deserialization:
    - `serialize`: Custom filter function when converting to Markdown
    - `deserialize`: Custom filter function when parsing Markdown
    Return `true` to keep the node, `false` to filter it out.
    This is useful for scenarios where complex logic is needed to decide whether to include a node.
  </APIItem>
  <APIItem name="nodes" type="Nodes | null">
    Defines rules for converting Markdown syntax elements to Slate editor elements, or rules for converting Slate editor elements to Markdown syntax elements. Includes conversion rules for paragraphs, headings, lists, links, images, and other elements. When set to null, default conversion rules will be used.
    Default: `null`
  </APIItem>
  <APIItem name="remarkPlugins" type="Plugin[]">
    Array of remark plugins for extending Markdown parsing and serialization functionality. For example, you can add remark-gfm for GFM syntax support, remark-math for math formula support, etc. These plugins will be used when parsing and generating Markdown text.
    Default: `[]`
  </APIItem>
  <APIItem name="splitLineBreaks" type="boolean" optional>
    Split text into separate paragraphs when it contains \n. Line breaks between paragraphs will also be converted to separate paragraphs.
    Default: `false`
  </APIItem>
</APIOptions>
</API>

### `editor.api.markdown.deserialize`

Converts a Markdown string to a Slate value.

<API name="deserialize">
<APIParameters>
  <APIItem name="markdown" type="string">
    The Markdown string to be deserialized.
  </APIItem>
  <APIItem name="options" type="DeserializeMdOptions" optional>
    Options for the deserialization process.
  </APIItem>
</APIParameters>

<APIOptions type="object">
      <APIItem name="memoize" type="boolean" optional>
        Enable block-level memoization with `_memo` property, making it compatible with `PlateStatic` memoization.
      </APIItem>
      <APIItem name="parser" type="ParseMarkdownBlocksOptions" optional>
        Options for the token parser. Can filter out specific markdown token types (e.g. 'space').
      </APIItem>
      <APIItem name="processor" type="(processor: Processor) => Processor" optional>
        A function that allows you to customize the markdown processor.
      </APIItem>
    </APIOptions>
    
<APIReturns type="Descendant[]">
    An array of Slate nodes representing the deserialized Markdown content.
</APIReturns>
</API>

### `editor.api.markdown.serialize`

Converts the current Slate value to a Markdown string.

<API name="serialize">
<APIOptions type="SerializeMarkdownOptions">
  <APIItem name="value" type="Descendant[]" optional>
    The Slate nodes to serialize. If not provided, the entire editor value will be used.
  </APIItem>
</APIOptions>

<APIReturns type="string">
  A Markdown string representing the serialized Slate content.
</APIReturns>
</API>

### `parseMarkdownBlocks`

Extracts and filters markdown tokens using marked lexer.

<API name="parseMarkdownBlocks">
<APIParameters>
  <APIItem name="markdown" type="string">
    The Markdown string to parse into tokens.
  </APIItem>
  <APIItem name="options" type="ParseMarkdownBlocksOptions" optional>
    Options for parsing the Markdown string.
  </APIItem>
</APIParameters>

<APIOptions type="ParseMarkdownBlocksOptions">
  <APIItem name="exclude" type="string[]" optional>
    Array of token types to exclude (e.g. ['space', 'hr']).
  </APIItem>
  <APIItem name="trim" type="boolean" optional>
    Whether to trim end of the content.
    - **Default:** `true`
  </APIItem>
</APIOptions>

<APIReturns type="Token[]">
  An array of markdown tokens.
</APIReturns>
</API>