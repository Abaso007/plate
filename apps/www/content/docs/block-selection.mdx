---
title: Block Selection
description: Select and manipulate entire text blocks.
---

<ComponentPreview name="playground-demo" id="blockselection" />

<PackageInfo>

## Features

- Select entire blocks, as opposed to individual words or characters.
- To select an entire block, mouse down outside the text area and then move the cursor into the block. Once it is selected, you'll see a background color.
- Keep moving down or up to select multiple blocks.
- Once selected, the available actions are: copy, cut, and delete.
- Keyboard shortcuts:
  - `Cmd+A` (Mac) / `Ctrl+A` (Windows/Linux): 
    - First press: Selects the current block
    - Double press: Selects the whole document using block selection
  - Note: This behavior can be disabled by setting `handlers.onKeyDown = null` when creating the plugin

</PackageInfo>

## Installation

```bash
npm install @udecode/plate-selection @udecode/plate-node-id
```

## Usage

```tsx
import { NodeIdPlugin } from '@udecode/plate-node-id';
import { BlockSelectionPlugin } from '@udecode/plate-selection/react';

const plugins = [
  // ...otherPlugins,
  NodeIdPlugin,
  BlockSelectionPlugin,
];
```

### Styling

You can style the selection area by adding this class to `body`, selecting `slate-selection-area`.

```js
'[&_.slate-selection-area]:border [&_.slate-selection-area]:border-primary [&_.slate-selection-area]:bg-primary/20'
```

## Plugins

### BlockSelectionPlugin

<APIOptions>
<APIItem name="disableContextMenu" type="boolean" optional>
Disables the context menu for block selection.
</APIItem>

<APIItem name="isSelecting" type="boolean" optional>
Indicates whether block selection is currently active.

- **Default:** `false`
</APIItem>

<APIItem name="onKeyDownSelecting" type="(e: KeyboardEvent) => void" optional>
A function to handle the **`keydown`** event when selecting.
</APIItem>

<APIItem name="query" type="QueryNodeOptions" optional>
Options for querying nodes during block selection.

- **Default:** `{ maxLevel: 1 }`
</APIItem>

<APIItem name="scrollContainerSelector" type="string" optional>
A CSS selector for the scrollable container of the editor.
</APIItem>

<APIItem name="selectedIds" type="Set<string>" optional>
A set of IDs for the currently selected blocks.

- **Default:** `new Set()`
</APIItem>

<APIItem name="sizes" type="Object" optional>
The dimensions of the selection area.

<APISubList>
<APISubListItem parent="sizes" name="left" type="number" optional>
The left size of the selection area.

- **Default:** `4`
</APISubListItem>
<APISubListItem parent="sizes" name="top" type="number" optional>
The top size of the selection area.

- **Default:** `4`
</APISubListItem>
<APISubListItem parent="sizes" name="right" type="number" optional>
The right size of the selection area.

- **Default:** `4`
</APISubListItem>
<APISubListItem parent="sizes" name="bottom" type="number" optional>
The bottom size of the selection area.

- **Default:** `4`
</APISubListItem>
</APISubList>
</APIItem>

<APIItem name="isSelected" type="(id?: string) => boolean" optional>
A function to determine if a block with the given ID is selected.
</APIItem>

<APIItem name="isSelectingSome" type="() => boolean" optional>
A function to determine if any blocks are currently selected.
</APIItem>
</APIOptions>

### BlockContextMenuPlugin

This plugin is used by `BlockSelectionPlugin` and doesn't need to be added manually.

## API

### editor.api.blockSelection.addSelectedRow

Adds a selected row to the block selection.

<APIParameters>
  <APIItem name="id" type="string">
    The ID of the row to be selected.
  </APIItem>
  <APIItem name="options" type="object" optional>
    <APISubList>
      <APISubListItem parent="options" name="aboveHtmlNode" type="HTMLDivElement" optional>
        The HTML node above which to add the selection.
      </APISubListItem>
      <APISubListItem parent="options" name="clear" type="boolean" optional>
        Whether to clear existing selections before adding the new one.
        - **Default:** `true`
      </APISubListItem>
    </APISubList>
  </APIItem>
</APIParameters>

### editor.api.blockSelection.getSelectedBlocks

Gets the selected blocks in the editor.

<APIReturns>
  <APIItem type="TNodeEntry[]">
    An array of selected block entries.
  </APIItem>
</APIReturns>

### editor.api.blockSelection.resetSelectedIds

Resets the set of selected IDs to an empty set.

### editor.api.blockSelection.selectedAll

Selects all selectable blocks in the editor.

### editor.api.blockSelection.setSelectedIds

Sets the selected IDs based on added and removed elements.

<APIParameters>
  <APIItem name="options" type="ChangedElements">
    <APISubList>
      <APISubListItem parent="options" name="added" type="HTMLElement[]">
        Array of HTML elements to be added to the selection.
      </APISubListItem>
      <APISubListItem parent="options" name="removed" type="HTMLElement[]">
        Array of HTML elements to be removed from the selection.
      </APISubListItem>
    </APISubList>
  </APIItem>
</APIParameters>

### editor.api.blockSelection.unselect

Unselects all blocks and sets the `isSelecting` flag to false.

### copySelectedBlocks

Copies the selected blocks in the editor to the clipboard.

<APIParameters>
  <APIItem name="editor" type="PlateEditor">
    The editor instance.
  </APIItem>
</APIParameters>

### pasteSelectedBlocks

Pastes the selected blocks from the clipboard into the editor.

<APIParameters>
  <APIItem name="editor" type="PlateEditor">
    The editor instance.
  </APIItem>
  <APIItem name="e" type="ClipboardEvent">
    The clipboard event containing the clipboard data.
  </APIItem>
</APIParameters>

### selectInsertedBlocks

Selects the inserted blocks from the last editor insert operations.

<APIParameters>
  <APIItem name="editor" type="TEditor">
    The editor instance.
  </APIItem>
</APIParameters>

## API Components

### BlockSelectable

<APIProps>
  <APIItem name="options" type="BlockSelectableOptions">
    <APISubList>
      <APISubListItem parent="options" name="element" type="TElement">
        The element to render the block selectable.
      </APISubListItem>
      <APISubListItem
        parent="options"
        name="selectedColor"
        type="string"
        optional
      >
        The color of the selected block.
      </APISubListItem>
      <APISubListItem parent="options" name="active" type="boolean" optional>
        Whether the selection is active.
      </APISubListItem>
    </APISubList>
  </APIItem>
</APIProps>

### BlockStartArea

A primitive component for rendering the start area of a block.

<APIProps>
<APIItem name="placement" type="'top' | 'bottom' | 'left' | 'right" optional>
The placement of the start area.

- **Default:** `'left'`

</APIItem>
<APIItem name="size" type="string | number" optional>
The size of the start area.

- **Default:** `'auto'`

</APIItem>
</APIProps>

<APIReturns>
  <APIItem name="props" type="object">
    <APISubList>
      <APISubListItem parent="props" name="className" type="string">
        The class name of the start area.
      </APISubListItem>
      <APISubListItem parent="props" name="style" type="object">
        The style of the start area.
      </APISubListItem>
    </APISubList>
  </APIItem>
</APIReturns>

### useBlockSelectionArea

The behavior hook for the `BlockSelectionArea` component.

<APIReturns>
  <APIItem name="props" type="object">
    <APISubList>
      <APISubListItem parent="props" name="className" type="string">
        The class name of the start area.
      </APISubListItem>
      <APISubListItem parent="props" name="style" type="object">
        The style of the start area.
      </APISubListItem>
    </APISubList>
  </APIItem>
</APIReturns>

### SelectionArea

<APIProps>
  <APIItem name="onBeforeStart" type="SelectionEvents['beforestart']" optional>
    The callback to execute before the selection starts.
  </APIItem>
  <APIItem name="onStart" type="SelectionEvents['start']" optional>
    The callback to execute when the selection starts.
  </APIItem>
  <APIItem name="onMove" type="SelectionEvents['move']" optional>
    The callback to execute when the selection moves.
  </APIItem>
  <APIItem name="onStop" type="SelectionEvents['stop']" optional>
    The callback to execute when the selection stops.
  </APIItem>
  <APIItem
    name="getBoundaries"
    type="(boundaries: SelectionOptions['boundaries']) => SelectionOptions['boundaries']"
    optional
  >
    Function to calculate the boundaries of the selection area.
  </APIItem>
</APIProps>